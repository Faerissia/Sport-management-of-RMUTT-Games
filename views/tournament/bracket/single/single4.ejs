<%- include("../../../partials/header") %>
    <%- include("../../../partials/sidebar") %>
        <div class="col-10 py-3 mx-auto">

            <!DOCTYPE html>
            <html lang="en">

            <head>
                <title>แบบ4</title>

                <style>
                    /* body {
                        background-color: DarkSalmon;
                    } */

                    .wrapper {
                        display: flex;
                        height: auto;
                        justify-content: center;
                    }

                    .item {
                        display: flex;
                        flex-direction: row-reverse;

                    }

                    .item p {
                        padding: 20px;
                        margin: 0;
                        min-width: 150px;
                        text-align: center;
                        background-color: rgb(228, 245, 243);
                    }

                    .item .box {
                        padding: 20px;
                        margin: 0;
                        min-width: 200px;
                        /* text-align: center; */
                        background-color: rgb(228, 245, 243);
                    }

                    .item-parent {
                        position: relative;
                        margin-left: 50px;
                        display: flex;
                        align-items: center;
                    }

                    .item-parent:after {
                        position: absolute;
                        content: '';
                        width: 25px;
                        height: 2px;
                        left: 0;
                        top: 50%;
                        background-color: #000000;
                        transform: translateX(-100%);
                    }

                    .item-childrens {
                        display: flex;
                        flex-direction: column;
                        justify-content: center;
                    }

                    .item-child {
                        display: flex;
                        align-items: flex-start;
                        justify-content: flex-end;
                        margin-top: 10px;
                        margin-bottom: 10px;
                        position: relative;
                    }

                    .item-child:before {
                        content: '';
                        position: absolute;
                        background-color: #000000;
                        right: 0;
                        top: 50%;
                        transform: translateX(100%);
                        width: 25px;
                        height: 2px;
                    }

                    .item-child:after {
                        content: '';
                        position: absolute;
                        background-color: #000000;
                        right: -25px;
                        height: calc(50% + 22px);
                        width: 2px;
                        top: 50%;
                    }

                    .item-child:last-child:after {
                        transform: translateY(-100%);
                    }

                    .item-child:only-child:after {
                        display: none;
                    }
                </style>



            </head>



            <body>
                <h1>
                    <%= tournamentName %>
                </h1>

                <%- include("../../../partials/menu_staff.ejs") %>

                    <!-- <h1>รอบที่ 1</h1>
                    <div>
                        <%= data[0].team1 %>
                            <%= data[0].score1%><br>
                                <%= data[0].team2 %>
                                    <%= data[0].score2%>
                    </div>
                    <br>
                    <div>
                        <%= data[1].team1 %>
                            <%= data[1].score1%> <br>
                                <%= data[1].team2 %>
                                    <%= data[1].score2%>
                    </div>
                    <br>
                    <h1>รอบที่ 2</h1>
                    <div>
                        <%= data[2].team1 %>
                            <%= data[2].score1%><br>
                                <%= data[2].team2 %>
                                    <%= data[2].score2%>
                    </div>
                    <br>
                    <h1>ผู้ชนะ</h1>
                    <div>
                        <%= data[3].team1 %>
                    </div> -->




                    <div class="container-md">

                       

                        <div class="wrapper">
                            <div class="item">
                                <div class="item-parent">
                                    <!-- 7 ผู้ขนะ -->
                                    <div class="box card border border-dark" id="score7">
                                        <div class="d-flex justify-content-center">
                                            <% if (data[3].team2) { %>
                                                <div class="">
                                                    <%= data[3].team2 %>
                                                </div>
                                                <% } else { %>
                                                    <div class="">
                                                        TBD
                                                    </div>
                                                    <% } %>



                                                        <div class="" style="height: 100%;">

                                                        </div>
                                        </div>
                                    </div>

                                </div>
                                <div class="item-childrens">
                                    <div class="item-child">
                                        <div class="item">
                                            <!-- รอบที่ 2 -->
                                            <div class="item-parent">
                                                <!-- 5 -->
                                                <div class="box card border border-dark" id="score5">
                                                    
                                                        <% if (data[2]&& data[2].score1 !== null && data[2].team1 !== null) { %>
                                                            <div class="d-flex justify-content-between">
                                                            <div class="">
                                                                <%= data[2].team1 %>
                                                            </div>
                                                            <div class="" style="height: 100%;">
                                                                <strong>
                                                                    <%= data[2].score1%>
                                                                </strong>
                                                            </div>
                                                            </div>
                                                            <% } else { %>
                                                                <div class="d-flex justify-content-center">
                                                                <div class="text-center">
                                                                    TBD
                                                                </div>
                                                                </div>
                                                                <% } %>
                                                    
                                                </div>

                                            </div>
                                            <div class="item-childrens">

                                                <!-- ------------------------------- คู่แรก -------------------------------- -->
                                                <div class="item-child">
                                                    <div class="item">
                                                        <div class="item-child">
                                                            <!-- รอยที่ 1 1 -->
                                                            <div class="box card border border-dark" id="score1">
                                                                <div class="d-flex justify-content-between">
                                                                    <div class="">
                                                                        <%= data[0].team1 %>
                                                                    </div>
                                                                    <div class=""
                                                                        style="height: 100%;">
                                                                        <strong>
                                                                            <%= data[0].score1%>
                                                                        </strong>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="item-child">
                                                    <!-- รอยที่ 1 2 -->
                                                    <div class="box card border border-dark" id="score2">
                                                        <div class="d-flex justify-content-between">
                                                            <div class="">
                                                                <%= data[0].team2 %>
                                                            </div>
                                                            <div class="" style="height: 100%;">
                                                                <strong>
                                                                    <%= data[0].score2%>
                                                                </strong>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="item-child">
                                        <div class="item">
                                            <!-- รอยที่ 2 6 -->

                                            <div class="item-parent">
                                                <div class="box card border border-dark" id="score6">
                                                    <% if (data[2]&& data[2].score2 !== null && data[2].team2 !== null) { %>
                                                        <div class="d-flex justify-content-between">
                                                        <div class="">
                                                            <%= data[2].team2 %>
                                                        </div>
                                                        <div class="" style="height: 100%;">
                                                            <strong>
                                                                <%= data[2].score2%>
                                                            </strong>
                                                        </div>
                                                        </div>
                                                        <% } else { %>
                                                            <div class="d-flex justify-content-center">
                                                            <div class="text-center">
                                                                TBD
                                                            </div>
                                                            </div>
                                                            <% } %>
                                                
                                                </div>
                                            </div>

                                            <div class="item-childrens">

                                                <!-- ------------------------------- คู่ที่2 ------------------------------- -->

                                                <div class="item-child">
                                                    <div class="item">
                                                        <!-- รอยที่ 1 3 -->
                                                        <div class="box card border border-dark" id="score3">
                                                            <div class="d-flex justify-content-between">
                                                                <div class="">
                                                                    <%= data[1].team1 %>
                                                                </div>
                                                                <div class=""
                                                                    style="height: 100%;">
                                                                    <strong>
                                                                        <%= data[1].score1%>
                                                                    </strong>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="item-child">
                                                    <!-- รอยที่ 1 4 -->
                                                    <div class="box card border border-dark" id="score4">
                                                        <div class="d-flex justify-content-between">
                                                            <div class="">
                                                                <%= data[1].team2 %>
                                                            </div>
                                                            <div class="" style="height: 100%;">
                                                                <strong>
                                                                    <%= data[1].score2%>
                                                                </strong>
                                                            </div>
                                                        </div>
                                                    </div>

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <script>
                        const data = JSON.parse('<%-JSON.stringify(data) %>');
                        console.log(data);
                        if (data[0].score1 > data[0].score2) {
                            document.getElementById("score1").className = "box card border border-dark  text-bg-success";
                        } else {
                            document.getElementById("score2").className = "box card border border-dark  text-bg-success";
                        }

                        if (data[1].score1 > data[1].score2) {
                            document.getElementById("score3").className = "box card border border-dark  text-bg-success";
                        } else {
                            document.getElementById("score4").className = "box card border border-dark  text-bg-success";
                        }

                        if (data[2].score1 > data[2].score2) {
                            document.getElementById("score5").className = "box card border border-dark  text-bg-success";
                        } else {
                            document.getElementById("score6").className = "box card border border-dark  text-bg-success";
                        }
                        if (data[3].score2 != null) {
                            document.getElementById("score7").className = "box card border border-dark  text-bg-success";
                        }

                    </script>

            </body>

            </html>
        </div>